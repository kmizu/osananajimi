# 第10話 部活の仲間たち

## プログラミング部での交流

「おはよう、拓海先輩」

プログラミング部の部室に入ると、美月が既に到着していた。最近は僕より早く来ることが増えている。

「おはよう。今日も早いね」

「昨日のパーサーの続きが気になって」美月はノートパソコンの画面を見せた。「エラー処理の部分、もう少し改良できそうな気がして」

画面には昨日書いたコードに、新しいエラーハンドリングのロジックが追加されていた。

```rust
match self.current_token {
    Some(Token::Number(_)) => self.parse_number(),
    Some(Token::LeftParen) => self.parse_grouped(),
    Some(token) => Err(ParseError::UnexpectedToken {
        found: token.clone(),
        expected: "number or '('".to_string(),
        position: self.position,
    }),
    None => Err(ParseError::UnexpectedEOF {
        expected: "expression".to_string(),
    }),
}
```

「位置情報も含めるようにしたんだ」僕は感心した。「これなら、どこでエラーが起きたかユーザーに分かりやすく伝えられる」

「拓海先輩が言ってた『エラーメッセージは第二のドキュメント』って言葉を思い出して」

部室のドアが開き、部長の山田先輩が入ってきた。

「おー、二人とも早いな。パーサー作ってるの？」

「はい、美月と一緒に式パーサーを」

「へえ、桜井さんもRust書けるんだ」山田先輩は興味深そうに画面を覗き込んだ。「エラー処理がちゃんとしてるね。初心者とは思えない」

「AtCoderで鍛えられてますから」美月が控えめに答えた。

「AtCoderやってるの？ レート何色？」

「青です。まだまだですけど」

山田先輩の目が輝いた。「青はすごいよ！ うちの部でもトップクラスだ」

## 文化祭準備の進展

「そういえば、文化祭の展示企画どうなってる？」山田先輩が尋ねた。

「プログラミング言語の仕組みを視覚的に見せる展示を考えてます」僕が説明した。「パーサーがどうやってコードを理解するか、段階的に見せられたらと」

「面白そう！ 具体的には？」

美月がノートを開いた。「三つのコーナーを考えてます。字句解析、構文解析、そして意味解析を、それぞれインタラクティブに体験できるように」

「例えば」僕が続けた。「簡単な式を入力してもらって、それがトークンに分解される様子をアニメーションで見せる」

```typescript
// 入力: 2 + 3 * 4
// ステップ1: 字句解析
[
  { type: 'NUMBER', value: '2' },
  { type: 'PLUS', value: '+' },
  { type: 'NUMBER', value: '3' },
  { type: 'STAR', value: '*' },
  { type: 'NUMBER', value: '4' }
]
```

「そして構文木に変換される過程も視覚化」美月が画面に図を描いた。

「いいね！ これなら文系の人でも楽しめそう」山田先輩が頷いた。

## 新入部員との出会い

「先輩たち、ちょっといいですか？」

ドアのところに一年生の男子が立っていた。

「入部希望？」山田先輩が声をかけた。

「はい、田中といいます。プログラミング言語の設計に興味があって」

僕と美月は顔を見合わせた。同じ興味を持つ後輩の登場は嬉しい。

「どんなことに興味があるの？」僕が尋ねた。

「型システムです。特に型推論のアルゴリズムとか」田中君の目が輝いた。「Hindley-Milner型推論とか勉強してて」

「おお、本格的だね」僕も興奮した。「ちょうど文化祭で型推論の展示も考えてたんだ」

美月が優しく声をかけた。「難しそうに聞こえるかもしれないけど、基本から一緒に勉強していけば大丈夫よ」

「桜井先輩もプログラミング言語に詳しいんですか？」

「勉強中だけど、拓海先輩に教えてもらいながら楽しんでるわ」

## チーム開発の始まり

「じゃあ、文化祭の展示、みんなで作ろうか」山田先輩が提案した。「藤原と桜井さんがメインで、田中君もサポートで」

「僕にできるかな...」田中君が不安そうに言った。

「大丈夫」僕は励ました。「みんな最初は初心者だった。一緒に作りながら学んでいこう」

美月がGitHubのリポジトリを開いた。「まずは環境構築から始めましょう。田中君、Git使ったことある？」

「基本的なことなら」

「じゃあ、リポジトリをクローンして」美月が手際よく説明を始めた。

```bash
git clone https://github.com/programming-club/festival2024
cd festival2024
npm install
```

僕は美月の説明の仕方を見て感心した。AtCoderで培った論理的思考力が、教える場面でも活きている。

## 開発方針の相談

昼休み、部室に集まったメンバーで開発の進め方を話し合った。

「フロントエンドはReactでいいよね」山田先輩が確認した。

「TypeScriptで型安全に作りたいです」僕が提案した。

「賛成」美月も頷いた。「バックエンドは？」

「パーサー部分はWebAssemblyにコンパイルしたRustを使うのはどう？」僕が提案した。「ブラウザ上で高速に動作するし」

「WebAssembly！」田中君が目を輝かせた。「触ってみたかったんです」

「じゃあ、こんな構成で」美月がホワイトボードに図を描いた。

```
Frontend (React + TypeScript)
    ↓
WebAssembly (Rust製パーサー)
    ↓
可視化ライブラリ (D3.js)
```

「役割分担は？」山田先輩が聞いた。

「パーサーのコア部分は僕が」僕が言った。「美月にはUIとUXを中心に」

「私、D3.jsも勉強してみたい」美月が手を挙げた。「構文木の可視化とか面白そう」

「田中君は？」

「テストを書きたいです」田中君が意外な答えを返した。「品質保証って大事だと思うので」

山田先輩が満足そうに頷いた。「いいチームになりそうだ」

## 放課後の作業

放課後、みんなで作業を始めた。それぞれが自分のタスクに集中しながらも、分からないことがあれば気軽に質問し合える雰囲気が心地よい。

「拓海先輩、このパーサーコンビネータの使い方が...」田中君が質問してきた。

「ああ、それはね」僕は隣に座って説明を始めた。「関数を組み合わせて複雑なパーサーを作る手法なんだ」

隣で美月がUIのモックアップを作っている。時々、僕たちの会話に耳を傾けながら、自分の作業も着実に進めている。

「できた！」美月が声を上げた。「字句解析のアニメーション、プロトタイプだけど」

画面には、入力されたコードが一文字ずつ読み取られ、トークンに変換される様子が美しくアニメーション表示されていた。

「すごい！」田中君が感嘆の声を上げた。「どうやって作ったんですか？」

「React Springっていうライブラリを使って」美月が説明を始めた。「アニメーションのタイミングは、パーサーの処理と同期させてるの」

僕は美月の成長の速さに驚いた。わずか数週間で、ここまでのものを作れるようになるとは。

## 帰り道の会話

「今日は充実してたね」

部活が終わり、美月と二人で帰路についた。春の夕暮れが、京都の街を優しく染めている。

「田中君、いい子ね」美月が言った。「テストを書きたいなんて、しっかりしてる」

「そうだね。チームに必要な視点だ」

「拓海先輩の教え方、上手になったよ」美月が僕を見上げた。「田中君も分かりやすそうだった」

「美月の影響かも」僕は照れながら答えた。「美月の質問に答えているうちに、説明の仕方を学んだんだと思う」

美月の頬がほんのり赤くなった。「私も拓海先輩から、たくさん学んでる」

御池通りを渡りながら、僕は思った。プログラミング部に美月が来てから、部の雰囲気が明るくなった。技術的な話も活発になったし、何より楽しい。

「文化祭、成功させようね」美月が言った。

「うん、みんなで力を合わせれば、きっといいものができる」

家に着く直前、美月が立ち止まった。

「拓海先輩、今日もありがとう。プログラミング部、入って本当によかった」

「こちらこそ。美月がいてくれて、毎日が楽しいよ」

美月の笑顔が、夕日に照らされて輝いて見えた。この時間がずっと続けばいいのに、と僕は心の中で思った。

明日も、きっと充実した一日になるだろう。仲間たちと一緒に、文化祭に向けて一歩ずつ前進していく。その過程で、美月との距離も少しずつ縮まっていく予感がした。